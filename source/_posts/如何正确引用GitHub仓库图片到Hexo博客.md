---
title: "教程：如何正确引用GitHub仓库图片到Hexo博客"
date: 2024-07-16 1:00:00
categories:
  - 博客教程
tags:
  - Hexo
  - GitHub
  - Markdown
  - 图片引用
---
## 前言

在撰写Hexo博客时，如何稳定、高效地管理和引用图片是一个常见问题。许多博主选择使用GitHub作为免费的图床，但这其中有一些常见的“坑”，比如图片链接失效、图片不显示等。本文将详细总结从创建仓库到在Markdown中正确引用图片，再到最终发布的完整流程和注意事项。

## 流程概览

1. **创建**一个**公开**的GitHub仓库作为图床。
2. **上传**图片文件到该仓库。
3. **获取**图片的**正确链接**（这是最关键的一步！）。
4. 在Markdown文章中**引用**图片链接。
5. **部署**您的Hexo博客。

---

## 详细步骤

### 第一步：创建公开的GitHub仓库

为了让所有人都能访问到您的图片，存放图片的GitHub仓库**必须是公开的（Public）**。如果是私有仓库（Private），则只有您自己登录后才能看到图片，您的读者将看到一个破碎的图片图标🏞️。

### 第二步：上传图片到仓库

您可以直接在GitHub网页上或者使用Git客户端将图片文件上传到您的图床仓库中。建议在仓库里创建一个专门的文件夹（如 `images` 或 `assets`）来存放图片，方便管理。

### 第三步：获取正确的图片URL（核心）

这是最容易出错的地方。对于一张GitHub仓库中的图片，您可能会遇到三种URL，但只有一种是最佳选择。

假设您的图片路径是：`https://github.com/USERNAME/REPO/blob/main/images/demo.png`

1. **网页浏览URL (错误)**

   * **格式**: `https://github.com/USERNAME/REPO/blob/main/images/demo.png`
   * **说明**: 这是GitHub用于**浏览文件内容**的网页链接，它本身是一个HTML页面，而不是图片文件。**不能**直接用于图片引用。
2. **带 `?raw=true`的URL (可用，但不推荐)**

   * **格式**: `https://github.com/USERNAME/REPO/blob/main/images/demo.png?raw=true`
   * **说明**: 这个链接通过参数 `raw=true`告诉GitHub返回文件的原始数据。它通常可以工作，但依赖于HTTP重定向，在某些网络环境或浏览器下可能不稳定。
3. **CDN原始链接 (最佳选择)**

   * **格式**: `https://raw.githubusercontent.com/USERNAME/REPO/main/images/demo.png`
   * **说明**: 这是GitHub官方提供的用于访问文件原始内容的CDN（内容分发网络）链接。它**最稳定、最快速、最可靠**。
   * **转换方法**: 只需将 `github.com` 替换为 `raw.githubusercontent.com`，并移除路径中的 `/blob/` 部分即可。

**结论：请始终选择第3种链接格式。**

### 第四步：在Markdown中引用图片

使用标准的Markdown语法即可：

```markdown
![这里是图片的描述文字](https://raw.githubusercontent.com/USERNAME/REPO/main/images/demo.png)
```

### 第五步：部署您的Hexo博客

在确认文章和图片链接无误后，执行标准的部署流程：

```bash
# 1. 清理旧缓存
hexo clean

# 2. 生成新的静态文件
hexo g

# 3. 部署到您的网站
hexo d
```

---

## 注意事项与问题排查

1. **仓库必须公开**：再次强调，这是图片能否被外部访问的前提。
2. **文章日期问题**：如果您发现某篇文章在本地存在，但部署后网站上没有显示，请检查文章头部的 `date`字段。如果日期是一个未来的时间，Hexo默认是不会生成这篇文章的。将其修改为当前或过去的时间即可。
3. **缓存问题**：在排查问题时，如果确认修改无误但网站仍未更新，请务必**强制刷新**您的浏览器缓存（通常是 `Ctrl + Shift + R` 或 `Cmd + Shift + R`）。
4. **检查URL拼写**：一个字母或符号的错误都会导致链接失效。请仔细核对您的用户名、仓库名、分支名（通常是 `main`）和文件路径。
5. **直接访问URL测试**：将最终使用的图片URL直接粘贴到浏览器地址栏并访问。如果图片能正常显示，说明链接本身是有效的。

希望这篇总结能帮助您彻底解决Hexo博客中的图片引用问题！
